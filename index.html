<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chúc Mừng Năm Mới Bính Ngọ</title>

<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  font-family:'Be Vietnam Pro',sans-serif;
  background:#fdf6e3;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  transition:background 1.2s ease;
}

/* NỀN TẾT – KHÔNG VỠ */
body.tet-bg{
  background:url("tet-bg.png") no-repeat center center/cover;
}

.envelope-container{text-align:center}

.envelope{
  width:300px;
  height:200px;
  background:linear-gradient(145deg,#c62828,#e53935);
  border-radius:14px;
  position:relative;
  box-shadow:0 12px 30px rgba(0,0,0,.3);
}

.envelope::before{
  content:"";
  position:absolute;
  width:100%;
  height:100%;
  background:#b71c1c;
  clip-path:polygon(0 0,50% 55%,100% 0);
  border-radius:14px 14px 0 0;
}

.open-btn{
  margin-top:20px;
  padding:12px 32px;
  font-size:18px;
  border-radius:30px;
  border:none;
  background:#d32f2f;
  color:#fff;
  cursor:pointer;
}

.card{
  display:none;
  max-width:720px;
  padding:30px;
  margin:20px;
  background:rgba(255,255,255,.9);
  border-radius:22px;
  text-align:center;
  box-shadow:0 12px 40px rgba(0,0,0,.35);
  animation:zoomIn 1s ease;
}

h1{
  font-family:'Great Vibes',cursive;
  font-size:46px;
  color:#c62828;
}

.message{
  font-size:16px;
  line-height:1.7;
}

@media(max-width:480px){
  h1{font-size:36px}
  .message{font-size:15px}
}

/* ===== PHÁO HOA TIA ===== */
.firework{
  position:fixed;
  left:50%;
  top:50%;
  pointer-events:none;
}

.spark{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:shoot 1.2s ease-out forwards;
}

@keyframes shoot{
  0%{transform:translate(0,0) scale(1);opacity:1}
  100%{transform:translate(var(--x),var(--y)) scale(.2);opacity:0}
}

@keyframes zoomIn{
  from{transform:scale(.7);opacity:0}
  to{transform:scale(1);opacity:1}
}
</style>
</head>

<body>

<div class="envelope-container" id="envelopeBox">
  <div class="envelope"></div>
  <button class="open-btn" onclick="openCard()">Mở Thiệp</button>
</div>

<div class="card" id="card">
  <h1>Chúc Mừng Năm Mới Bính Ngọ</h1>
  <div class="message" id="message"></div>
</div>

<audio id="music" src="tet-music.mp3" loop></audio>

<script>
const wishes=[
"Xuân Bính Ngọ gõ cửa mang theo nhiều may mắn.\nChúc bạn học tập tiến bộ mỗi ngày.\nTinh thần luôn vững vàng và lạc quan.\nGia đình sum vầy, ấm áp yêu thương.\nMột năm mới an khang thịnh vượng.",

"Năm mới đến, chúc bạn tràn đầy năng lượng.\nHọc tập thuận lợi, đạt nhiều thành tích.\nMỗi ngày đều có niềm vui mới.\nGia đình bình an, hạnh phúc.\nXuân mới rực rỡ như pháo hoa."
];

function openCard(){
  document.getElementById("envelopeBox").style.display="none";
  document.getElementById("card").style.display="block";
  document.body.classList.add("tet-bg");

  document.getElementById("message").innerText=
    wishes[Math.floor(Math.random()*wishes.length)];

  // NHẠC VÀO DẦN
  const music=document.getElementById("music");
  music.volume=0;
  music.play();
  let v=0;
  const fade=setInterval(()=>{
    v+=0.02;
    if(v>=1){v=1;clearInterval(fade)}
    music.volume=v;
  },200);

  // PHÁO HOA TIA
  setInterval(createFirework,600);
}

function createFirework(){
  const fw=document.createElement("div");
  fw.className="firework";
  fw.style.left=Math.random()*100+"vw";
  fw.style.top=Math.random()*80+"vh";

  const colors=["#ffd54f","#ff5252","#ff9800","#f06292","#ffeb3b"];

  for(let i=0;i<24;i++){
    const s=document.createElement("div");
    s.className="spark";
    const angle=Math.random()*2*Math.PI;
    const distance=80+Math.random()*70;
    s.style.setProperty("--x",Math.cos(angle)*distance+"px");
    s.style.setProperty("--y",Math.sin(angle)*distance+"px");
    s.style.background=colors[Math.floor(Math.random()*colors.length)];
    fw.appendChild(s);
  }

  document.body.appendChild(fw);
  setTimeout(()=>fw.remove(),1300);
}
</script>

</body>
</html>
