<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√∫c M·ª´ng NƒÉm M·ªõi B√≠nh Ng·ªç</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Be+Vietnam+Pro&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fbf3df;
  font-family:'Be Vietnam Pro',sans-serif;
}

/* ================= PHONG B√å ================= */
.wrapper{text-align:center}

.envelope{
  position:relative;
  width:280px;
  height:160px;
  margin:auto;
}

/* TH√ÇN */
.env-body{
  position:absolute;
  bottom:0;
  width:100%;
  height:100px;
  background:#d32f2f;
  border-radius:0 0 16px 16px;
  box-shadow:0 14px 30px rgba(0,0,0,.25);
  z-index:1;
}

/* N·∫ÆP ‚Äì CLIP-PATH CHU·∫®N PIXEL */
.env-flap{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:60px;
  background:#c62828;

  /* üëá TAM GI√ÅC C√ÇN TUY·ªÜT ƒê·ªêI */
  clip-path:polygon(0 0,50% 100%,100% 0);

  transform-origin:top center;
  transition:transform .9s ease;
  z-index:2;
}

/* M·ªû N·∫ÆP */
.open .env-flap{
  transform:rotateX(180deg);
}

/* N√öT */
button{
  margin-top:20px;
  padding:12px 28px;
  border:none;
  border-radius:30px;
  background:#d32f2f;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}

/* ================= THI·ªÜP ================= */
.card{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  background:url('tet-bg.png') center/cover no-repeat;
}

.card.show{display:flex}

.card::after{
  content:'';
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.18);
}

.content{
  position:relative;
  max-width:720px;
  margin:20px;
  background:rgba(255,253,245,.97);
  padding:34px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 20px 45px rgba(0,0,0,.35);
  z-index:2;
}

h1{
  font-family:'Great Vibes',cursive;
  font-size:44px;
  color:#b71c1c;
  margin-bottom:16px;
}

p{
  font-size:17px;
  line-height:1.7;
  color:#5d4037;
}

/* ================= PH√ÅO HOA ================= */
canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}

/* MOBILE */
@media(max-width:600px){
  .envelope{width:240px}
  h1{font-size:34px}
  p{font-size:15px}
}
</style>
</head>

<body>

<div class="wrapper" id="wrap">
  <div class="envelope" id="env">
    <div class="env-flap"></div>
    <div class="env-body"></div>
  </div>
  <button id="openBtn">M·ªü Thi·ªáp</button>
</div>

<div class="card" id="card">
  <canvas id="fw"></canvas>
  <div class="content">
    <h1>Ch√∫c M·ª´ng NƒÉm M·ªõi B√≠nh Ng·ªç</h1>
    <p id="wish"></p>
  </div>
</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
/* L·ªúI CH√öC */
const wishes=[
"Ch√∫c nƒÉm m·ªõi s·ª©c kh·ªèe d·ªìi d√†o, h·ªçc t·∫≠p ti·∫øn b·ªô, tinh th·∫ßn l·∫°c quan v√† lu√¥n v·ªØng b∆∞·ªõc tr√™n con ƒë∆∞·ªùng ph√≠a tr∆∞·ªõc.",
"Xu√¢n sang mang theo ni·ªÅm vui m·ªõi, ch√∫c b·∫°n g·∫∑p nhi·ªÅu may m·∫Øn, th√†nh c√¥ng v√† lu√¥n gi·ªØ ƒë∆∞·ª£c ƒëam m√™ c·ªßa m√¨nh."
];
document.getElementById("wish").innerText=
wishes[Math.floor(Math.random()*wishes.length)];

/* M·ªû THI·ªÜP */
const env=document.getElementById("env");
const card=document.getElementById("card");
const music=document.getElementById("music");

document.getElementById("openBtn").onclick=()=>{
  env.classList.add("open");

  setTimeout(()=>{
    document.getElementById("wrap").style.display="none";
    card.classList.add("show");

    music.volume=0;
    music.play();
    let v=0;
    const fade=setInterval(()=>{
      if(v>=0.7) clearInterval(fade);
      music.volume=v+=0.02;
    },120);

    fireworks();
  },900);
};

/* PH√ÅO HOA */
const canvas=document.getElementById("fw");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;
onresize=()=>{canvas.width=innerWidth;canvas.height=innerHeight};

let ps=[];
function boom(){
  const x=Math.random()*canvas.width;
  const y=Math.random()*canvas.height/2;
  const c=["#ffeb3b","#ff5722","#ff9800","#e91e63"];
  for(let i=0;i<80;i++){
    ps.push({x,y,
      vx:(Math.random()-.5)*6,
      vy:(Math.random()-.5)*6,
      l:100,
      c:c[Math.floor(Math.random()*c.length)]
    });
  }
}
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ps.forEach((p,i)=>{
    p.x+=p.vx;p.y+=p.vy;p.l--;
    ctx.fillStyle=p.c;
    ctx.fillRect(p.x,p.y,2,2);
    if(p.l<=0) ps.splice(i,1);
  });
  requestAnimationFrame(draw);
}
function fireworks(){
  setInterval(boom,800);
  draw();
}
</script>

</body>
</html>
