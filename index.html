<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chúc Mừng Năm Mới Bính Ngọ</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fbf3e6;
  overflow:hidden;
  font-family:Arial, sans-serif;
}

/* ================= PHONG BÌ ================= */
#envelope-screen{
  text-align:center;
  transition:opacity .8s ease;
}

.envelope{
  width:300px;
  max-width:80vw;
  position:relative;
  perspective:1200px;
}

/* Thân */
.envelope-body{
  width:100%;
  height:180px;
  background:#d32f2f;
  border-radius:0 0 20px 20px;
  position:relative;
  z-index:2;
}

/* Nắp */
.envelope-flap{
  width:0;
  height:0;
  border-left:150px solid transparent;
  border-right:150px solid transparent;
  border-bottom:90px solid #b71c1c;
  position:absolute;
  top:-90px;
  left:0;
  transform-origin:bottom center;
  transform:rotateX(180deg); /* ĐÓNG */
  transition:transform .9s ease;
  z-index:4;
}

.open .envelope-flap{
  transform:rotateX(0deg); /* MỞ */
}

/* ================= THIỆP TRƯỢT ================= */
.card-preview{
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%) translateY(120px);
  width:92%;
  height:140px;
  background:#fff;
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  z-index:1;
  transition:transform 1s ease;
}

.open .card-preview{
  transform:translateX(-50%) translateY(-140px);
}

/* ================= NÚT ================= */
button{
  margin-top:20px;
  padding:12px 34px;
  border:none;
  border-radius:999px;
  background:#c62828;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}

/* ================= THIỆP FULL ================= */
#card-screen{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:url("tet-bg.png") center/cover no-repeat;
  opacity:0;
  pointer-events:none;
  transition:opacity 1s ease;
}

#card-screen.show{
  opacity:1;
  pointer-events:auto;
}

.card{
  background:#ffffffee;
  width:90%;
  max-width:560px;
  padding:36px 30px;
  border-radius:24px;
  text-align:center;
  box-shadow:0 30px 60px rgba(0,0,0,.35);
}

h1{
  font-family:'Dancing Script', cursive;
  font-size:40px;
  color:#b71c1c;
  margin-bottom:20px;
}

p{
  font-size:16px;
  line-height:1.75;
  color:#333;
  white-space:pre-line;
}

/* ================= PHÁO HOA TIA DÀI ================= */
.firework{
  position:fixed;
  width:4px;
  height:4px;
  border-radius:50%;
  animation:explode 1.6s ease-out forwards;
}

@keyframes explode{
  0%{transform:scale(0);opacity:1}
  100%{transform:scale(28);opacity:0}
}

@media(max-width:480px){
  h1{font-size:32px}
}
</style>
</head>

<body>

<!-- PHONG BÌ -->
<div id="envelope-screen">
  <div class="envelope" id="env">
    <div class="envelope-flap"></div>
    <div class="card-preview"></div>
    <div class="envelope-body"></div>
  </div>
  <button onclick="openCard()">Mở Thiệp</button>
</div>

<!-- THIỆP -->
<div id="card-screen">
  <div class="card">
    <h1>Chúc Mừng Năm Mới Bính Ngọ</h1>
    <p id="wish"></p>
  </div>
</div>

<audio id="music" src="tet-music.mp3" loop></audio>

<script>
const wishes=[
`Năm mới Bính Ngọ gõ cửa,
chúc bạn luôn mạnh khỏe, tinh thần vững vàng
và trái tim luôn đầy nhiệt huyết.
Mong mọi nỗ lực trong học tập và cuộc sống
đều được đền đáp xứng đáng,
mỗi ngày trôi qua là một bước tiến mới
trên con đường bạn đã chọn.`,

`Xuân về mang theo hy vọng mới,
chúc bạn một năm an yên và bền bỉ.
Dù thử thách có đến,
hãy luôn tin vào bản thân mình,
giữ vững ý chí và không ngừng cố gắng.
Thành công sẽ đến với những ai kiên trì
và không bỏ cuộc.`,

`Năm mới không chỉ là khởi đầu,
mà là cơ hội để bạn trưởng thành hơn.
Chúc bạn học tập tiến bộ,
cuộc sống nhiều niềm vui,
gia đình luôn ấm áp yêu thương
và mỗi ngày đều có lý do để mỉm cười.`
];

function openCard(){
  const env=document.getElementById("env");
  env.classList.add("open");

  setTimeout(()=>{
    document.getElementById("envelope-screen").style.opacity="0";
  },1200);

  setTimeout(()=>{
    document.getElementById("envelope-screen").style.display="none";
    document.getElementById("card-screen").classList.add("show");
    document.getElementById("wish").innerText =
      wishes[Math.floor(Math.random()*wishes.length)];
    playMusic();
    fireworks();
  },2000);
}

function playMusic(){
  const m=document.getElementById("music");
  m.volume=0;
  m.play();
  let v=0;
  const fade=setInterval(()=>{
    if(v<1){v+=0.03;m.volume=v}
    else clearInterval(fade);
  },100);
}

/* PHÁO HOA NHIỀU TẦNG */
function fireworks(){
  setInterval(()=>{
    for(let i=0;i<10;i++){
      const f=document.createElement("div");
      f.className="firework";
      f.style.left=Math.random()*100+"vw";
      f.style.top=Math.random()*60+"vh";
      f.style.background=`hsl(${Math.random()*360},100%,60%)`;
      document.body.appendChild(f);
      setTimeout(()=>f.remove(),1600);
    }
  },500);
}
</script>

</body>
</html>
