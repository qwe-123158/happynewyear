<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chúc Mừng Năm Mới Bính Ngọ</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  background:#fbf3e6;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial, sans-serif;
  overflow:hidden;
}

/* ================= PHONG BÌ ================= */
#envelopeScreen{
  text-align:center;
  transition:opacity .8s ease, transform .8s ease;
}

.envelope{
  position:relative;
  width:260px;
  height:180px;
  margin:auto;
}

.envelope-body{
  position:absolute;
  bottom:0;
  width:100%;
  height:120px;
  background:#d32f2f;
  border-radius:0 0 20px 20px;
}

.envelope-flap{
  position:absolute;
  top:60px;
  width:100%;
  height:80px;
  background:#b71c1c;
  clip-path:polygon(0 0,50% 100%,100% 0);
  transform-origin:50% 100%;
  transition:transform .8s ease, top .8s ease;
}

.envelope.open .envelope-flap{
  transform:rotateZ(-180deg);
  top:-20px;
}

button{
  margin-top:20px;
  padding:10px 28px;
  border:none;
  border-radius:999px;
  background:#d32f2f;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}

/* ================= THIỆP ================= */
#cardScreen{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:
    linear-gradient(rgba(255,255,255,.95),rgba(255,255,255,.95)),
    url("tet-bg.png") center/cover no-repeat;
  opacity:0;
  pointer-events:none;
  transition:opacity 1s ease;
}

#cardScreen.show{
  opacity:1;
  pointer-events:auto;
}

.card{
  background:#fff;
  max-width:520px;
  width:90%;
  padding:30px 24px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 25px 45px rgba(0,0,0,.35);
}

h1{
  font-family:'Dancing Script', cursive;
  font-size:38px;
  color:#b71c1c;
  margin-bottom:16px;
}

p{
  font-size:16px;
  line-height:1.6;
  color:#333;
}

/* ================= PHÁO HOA ================= */
.firework{
  position:fixed;
  width:4px;
  height:4px;
  border-radius:50%;
  animation:boom 1.2s linear infinite;
}

@keyframes boom{
  0%{transform:scale(0);opacity:1}
  100%{transform:scale(15);opacity:0}
}

/* MOBILE */
@media(max-width:480px){
  h1{font-size:30px}
}
</style>
</head>

<body>

<!-- PHONG BÌ -->
<div id="envelopeScreen">
  <div class="envelope" id="env">
    <div class="envelope-flap"></div>
    <div class="envelope-body"></div>
  </div>
  <button onclick="openCard()">Mở Thiệp</button>
</div>

<!-- THIỆP -->
<div id="cardScreen">
  <div class="card">
    <h1>Chúc Mừng Năm Mới Bính Ngọ</h1>
    <p id="wish"></p>
  </div>
</div>

<audio id="music" src="tet-music.mp3" loop></audio>

<script>
const wishes=[
"Chúc năm mới an khang thịnh vượng, học tập tiến bộ, mọi điều hanh thông.",
"Mong Bính Ngọ mang đến thật nhiều may mắn, niềm vui và thành công.",
"Chúc một năm mới tràn đầy năng lượng tích cực và những điều tốt đẹp."
];

function openCard(){
  document.getElementById("env").classList.add("open");

  setTimeout(()=>{
    const envScreen=document.getElementById("envelopeScreen");
    envScreen.style.opacity="0";
    envScreen.style.transform="scale(.9)";
  },600);

  setTimeout(()=>{
    document.getElementById("envelopeScreen").style.display="none";
    document.getElementById("cardScreen").classList.add("show");
    document.getElementById("wish").innerText=
      wishes[Math.floor(Math.random()*wishes.length)];
    playMusic();
    fireworks();
  },1200);
}

function playMusic(){
  const m=document.getElementById("music");
  m.volume=0;
  m.play();
  let v=0;
  const fade=setInterval(()=>{
    if(v<1){v+=0.02;m.volume=v}
    else clearInterval(fade);
  },100);
}

function fireworks(){
  setInterval(()=>{
    const f=document.createElement("div");
    f.className="firework";
    f.style.left=Math.random()*100+"vw";
    f.style.top=Math.random()*100+"vh";
    f.style.background=`hsl(${Math.random()*360},100%,60%)`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1200);
  },250);
}
</script>

</body>
</html>
