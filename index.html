<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chúc Mừng Năm Mới Bính Ngọ</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fbf3e6;
  overflow:hidden;
  font-family:Arial, sans-serif;
}

/* ================= PHONG BÌ ================= */
#envelope-screen{
  text-align:center;
  transition:opacity .8s ease;
}

.envelope{
  width:300px;
  max-width:80vw;
  position:relative;
  perspective:1000px;
}

/* Thân phong bì */
.envelope-body{
  width:100%;
  height:180px;
  background:#d32f2f;
  border-radius:0 0 20px 20px;
  position:relative;
  z-index:1;
}

/* NẮP PHONG BÌ – FIX CHUẨN */
.envelope-flap{
  width:0;
  height:0;
  border-left:150px solid transparent;
  border-right:150px solid transparent;
  border-bottom:90px solid #b71c1c;
  position:absolute;
  top:-90px;
  left:0;
  transform-origin:bottom center;
  transform:rotateX(180deg); /* ⬅️ MẶC ĐỊNH: ĐÓNG */
  transition:transform .9s ease;
  z-index:2;
}

/* Khi bấm mở */
.open .envelope-flap{
  transform:rotateX(0deg); /* ⬅️ MỞ LÊN */
}

button{
  margin-top:20px;
  padding:12px 34px;
  border:none;
  border-radius:999px;
  background:#c62828;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}

/* ================= THIỆP ================= */
#card-screen{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:url("tet-bg.png") center/cover no-repeat;
  opacity:0;
  pointer-events:none;
  transition:opacity 1s ease;
}

#card-screen.show{
  opacity:1;
  pointer-events:auto;
}

.card{
  background:#ffffffee;
  width:90%;
  max-width:560px;
  padding:34px 28px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 30px 60px rgba(0,0,0,.35);
}

h1{
  font-family:'Dancing Script', cursive;
  font-size:38px;
  color:#b71c1c;
  margin-bottom:16px;
}

p{
  font-size:16px;
  line-height:1.7;
  color:#333;
}

/* ================= PHÁO HOA ================= */
.firework {
            position: absolute;
            width: 8px; /* Tăng kích thước tâm */
            height: 8px;
            border-radius: 50%;
        }

        /* Lớp pháo chính: To và rõ */
        .firework::before, .firework::after, .firework {
            content: "";
            position: absolute;
            border-radius: 50%;
            /* Tạo nhiều tia pháo hơn với box-shadow */
            box-shadow: 
                0 0 #fff, 
                0 -150px #ff0044, 150px 0 #00ccff, 
                0 150px #ffdd00, -150px 0 #00ff88,
                100px -100px #ff00ff, -100px -100px #ffffff,
                100px 100px #ff8800, -100px 100px #00ffff,
                50px -180px #ff3300, -50px -180px #33ff00,
                180px -50px #6600ff, -180px -50px #ff00cc;
            
            filter: drop-shadow(0 0 5px white); /* Tạo hiệu ứng phát sáng */
            animation: explode 1.5s infinite ease-out;
        }

        /* Lớp pháo nổ tầng 2: Lan xa hơn */
        .firework::before {
            transform: rotate(45deg);
            scale: 1.3;
            animation-duration: 1.8s;
            animation-delay: -0.2s;
        }

        /* Lớp pháo nổ tầng 3: Nhỏ và lấp lánh */
        .firework::after {
            transform: rotate(25deg);
            scale: 0.7;
            animation-duration: 2.2s;
            animation-delay: -0.4s;
        }

        @keyframes explode {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: scale(1.5); /* Nổ to ra 1.5 lần */
                opacity: 0;
            }
        }

        /* Vị trí các bông pháo trên màn hình */
        .f1 { top: 20%; left: 25%; color: #ff0044; }
        .f2 { top: 40%; left: 75%; color: #00ccff; animation-delay: 0.5s; }
        .f3 { top: 60%; left: 40%; color: #ffdd00; animation-delay: 1s; scale: 1.2; }
        .f4 { top: 15%; left: 60%; color: #00ff88; animation-delay: 0.3s; scale: 0.8; }

        h1 {
            position: absolute;
            bottom: 10%;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 3rem;
            text-shadow: 0 0 10px #ff0044, 0 0 20px #ff0044;
            letter-spacing: 10px;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from { opacity: 0.5; }
            to { opacity: 1; text-shadow: 0 0 30px #ff0044; }
        }
    </style>
</head>
<body>


    <div class="firework f1"></div>
    <div class="firework f2"></div>
    <div class="firework f3"></div>
    <div class="firework f4"></div>

</body>
<!-- PHONG BÌ -->
<div id="envelope-screen">
  <div class="envelope" id="env">
    <div class="envelope-flap"></div>
    <div class="envelope-body"></div>
  </div>
  <button onclick="openCard()">Mở Thiệp</button>
</div>

<!-- THIỆP -->
<div id="card-screen">
  <div class="card">
    <h1>Chúc Mừng Năm Mới Bính Ngọ</h1>
    <p id="wish"></p>
  </div>
</div>

<audio id="music" src="tet-music.mp3" loop></audio>

<script>
const wishes=[
"Chúc bạn năm mới giữ vững được tâm thế bình thản trước mọi thử thách của cuộc sống và sự minh mẫn trên con đường học vấn. Mong rằng mỗi giọt mồ hôi bên trang sách sẽ đổi lấy những nấc thang thành công rực rỡ, và mỗi trải nghiệm cuộc đời đều giúp bạn trưởng thành, bản lĩnh hơn.",
"Năm mới, chúc bạn tìm thấy sự cân bằng tuyệt vời giữa việc nâng tầm tri thức và tận hưởng cuộc sống. Mong bạn học thêm được nhiều điều hay, thi đâu thắng đó, nhưng cũng không quên dành thời gian để yêu thương bản thân và cảm nhận những vẻ đẹp giản đơn xung quanh mình.",
"Chúc bạn năm mới: Trí tuệ sáng suốt để chinh phục mọi đỉnh cao tri thức, và tâm hồn phong phú để tận hưởng trọn vẹn từng khoảnh khắc quý giá của cuộc sống. Học thành tài, sống hạnh phúc!"
];

function openCard(){
  document.getElementById("env").classList.add("open");

  setTimeout(()=>{
    document.getElementById("envelope-screen").style.opacity="0";
  },800);

  setTimeout(()=>{
    document.getElementById("envelope-screen").style.display="none";
    document.getElementById("card-screen").classList.add("show");
    document.getElementById("wish").innerText =
      wishes[Math.floor(Math.random()*wishes.length)];
    playMusic();
    fireworks();
  },1400);
}

function playMusic(){
  const m=document.getElementById("music");
  m.volume=0;
  m.play();
  let v=0;
  const fade=setInterval(()=>{
    if(v<1){v+=0.03;m.volume=v}
    else clearInterval(fade);
  },100);
}

function fireworks(){
  setInterval(()=>{
    const f=document.createElement("div");
    f.className="firework";
    f.style.left=Math.random()*100+"vw";
    f.style.top=Math.random()*100+"vh";
    f.style.background=`hsl(${Math.random()*360},100%,60%)`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1300);
  },200);
}
</script>

</body>
</html>
